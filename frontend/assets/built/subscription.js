function renderCaptcha(){let t=$("html").hasClass("dark");turnstile.ready(function(){turnstile.render(".captcha-container",{sitekey:"3x00000000000000000000FF",action:"email-subscription",theme:t?"dark":"light","response-field-name":"captcha",callback:t=>{}})}),$(".subscription-content .button-container").stop().fadeOut(300,"linear"),$(".subscription-content .captcha-container").stop().fadeIn(300,"linear")}function handleFormSubmission(){$(".subscription-content form").on("submit",function(t){t.preventDefault(),validateForm()&&renderCaptcha()})}function validateForm(){var t=$('.subscription-modal input[type="email"]'),n=t.val();return""!==n&&/\S+@\S+/.test(n)?(t.removeClass("error"),t.closest(".subscription-modal").find(".subscription-error").stop().fadeOut(300,"linear"),t.removeData("input-listener"),t.off("input"),!0):(handleFormError(t),!1)}function handleFormError(t){t.addClass("error");var n=t.closest(".subscription-modal").find(".subscription-error");n.text("Please enter a valid email address"),n.stop().fadeIn(300,"linear"),t.data("input-listener")||(t.data("input-listener",!0),t.on("input",function(){validateForm()}))}function handleOnFocus(){$('.subscription-modal input[type="email"]').on("blur",function(){var t=$(this).next("label");""===$(this).val().trim()?t.removeClass("active"):t.addClass("active")})}function setupSubscription(t){function n(){$(".subscription-content").css({transform:"translateY(50%) translateX(-50%)",opacity:0}),$(".subscription-modal").fadeOut()}$("#post-subscribe").click(function(){$(".subscription-modal").fadeIn(),$(".subscription-content").css({transform:"translateY(0%) translateX(-50%)",opacity:1})}),$(document).keyup(function(t){"Escape"===t.key&&n()}),$(".subscription-modal").click(function(t){t.target===this&&n()});t=$(".subscription-content #"+t);0<t.length&&t.prop("checked",!0),$(".subscription-modal").fadeIn(),$(".subscription-content").css({transform:"translateY(0%) translateX(-50%)",opacity:1})}$(function(){handleOnFocus(),handleFormSubmission()});
//# sourceMappingURL=subscription.js.map